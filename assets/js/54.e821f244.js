(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{408:function(t,s,a){"use strict";a.r(s);var n=a(15),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("code",[t._v("yudao-spring-boot-starter-web")]),t._v(" 技术组件，由它的 "),s("code",[t._v("encrypt")]),t._v(" 包，提供 HTTP 接口加解密特性，提高安全性。")]),t._v(" "),s("p",[t._v("它主要由 ApiEncryptFilter 过滤器实现，主要有 2 个功能：")]),t._v(" "),s("ul",[s("li",[t._v("请求解密：「前端」请求时，将“请求体”进行加密，然后「后端」 ApiEncryptFilter 负责解密该请求体。")]),t._v(" "),s("li",[t._v("响应加密：「后端」响应时，「后端」ApiEncryptFilter 将“响应体”进行加密，然后「前端」进行解密。")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("疑问：为什么不使用 SpringMVC 的 RequestBodyAdvice 或 ResponseBodyAdvice 机制呢？")]),t._v(" "),s("p",[t._v("考虑到项目中会记录访问日志、异常日志，以及 HTTP API 签名等场景，最好是全局级、且提前做解析！！！")])]),t._v(" "),s("h2",{attrs:{id:"_1-apiencrypt-注解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-apiencrypt-注解"}},[t._v("#")]),t._v(" 1. @ApiEncrypt 注解")]),t._v(" "),s("p",[t._v("在 Controller 类或方法上，添加 "),s("code",[t._v("@ApiEncrypt")]),t._v(" 注解，声明它 "),s("strong",[t._v("必须")]),t._v(" 加密。它有如下两个属性：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("request")]),t._v("：请求加密标识，默认为 "),s("code",[t._v("true")]),t._v(" 开启加密。")]),t._v(" "),s("li",[s("code",[t._v("response")]),t._v("：响应加密标识，默认为 "),s("code",[t._v("true")]),t._v(" 开启加密。")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("疑问：没有声明 `@ApiEncrypt` 注解的接口，可以进行请求加密吗？")]),t._v(" "),s("p",[t._v("可以的，前端请求时，只要请求体进行了加密，后端 ApiEncryptFilter 都会进行解密。")]),t._v(" "),s("p",[t._v("而 "),s("code",[t._v("@ApiEncrypt")]),t._v(" 注解的作用，还是上面体到的“必须”二字，即不允许明文（未加密）请求。")])]),t._v(" "),s("h2",{attrs:{id:"_2-api-加密配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-api-加密配置"}},[t._v("#")]),t._v(" 2. API 加密配置")]),t._v(" "),s("h3",{attrs:{id:"_2-1-后端配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-后端配置"}},[t._v("#")]),t._v(" 2.1 后端配置")]),t._v(" "),s("p",[t._v("后端的 "),s("code",[t._v("application.yml")]),t._v(" 中，配置 "),s("code",[t._v("yudao.api-encrypt")]),t._v(" 配置项，配置 API 加密的相关参数：")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("yudao")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("api-encrypt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否开启 API 加密")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("algorithm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" AES "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 加密算法，支持 AES、RSA 等")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("request-key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("52549111389893486934626385991395")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 【AES 案例】请求加密的秘钥，，必须 16、24、32 位")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("response-key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("96103715984234343991809655248883")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 【AES 案例】响应加密的秘钥，AES 案例，必须 16、24、32 位")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#    request-key: MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAKWzasimcZ1icsWDPVdTXcZs1DkOWjI+m9bTQU8aOqflnomkr6QO1WWeSHBHzuJGsTlV/ZY2pFfq/NstKC94hBjx7yioYJvzb2bKN/Uy4j5nM3iCF//u0RiFkkY8j0Bt/EWoFTOb6RHf8cHIAjbYYtP3pYzbpCIwryfe0g//KIuzAgMBAAECgYADDjZrYcpZjR2xr7RbXmGtzYbyUGXwZEAqa3XaWBD51J2iSyOkAlQEDjGmxGQ3vvb4qDHHadWI+3/TKNeDXJUO+xTVJrnismK5BsHyC6dfxlIK/5BAuknryTca/3UoA1yomS9ZlF3Q0wcecaDoEnSmZEaTrp9T3itPAz4KnGjv5QJBAN5mNcfu6iJ5ktNvEdzqcxkKwbXb9Nq1SLnmTvt+d5TPX7eQ9fCwtOfVu5iBLhhZzb5PJ7pSN3Zt6rl5/jPOGv0CQQC+vETX9oe1wbxZSv6/RBGy0Xow6GndbJwvd89PcAJ2h+OJXWtg/rRHB3t9EQm7iis0XbZTapj19E4U6l8EibhvAkEA1CvYpRwmHKu1SqdM+GBnW/2qHlBwwXJvpoK02TOm674HR/4w0+YRQJfkd7LOAgcyxJuJgDTNmtt0MmzS+iNoFQJAMVSUIZ77XoDq69U/qcw7H5qaFcgmiUQr6QL9tTftCyb+LGri+MUnby96OtCLSdvkbLjIDS8GvKYhA7vSM2RDNQJBAKGyVVnFFIrbK3yuwW71yvxQEGoGxlgvZSezZ4vGgqTxrr9HvAtvWLwR6rpe6ybR/x8uUtoW7NRBWgpiIFwjvY4= # 【RSA 案例】请求解密的私钥")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#    response-key: MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDh/CHyBcS/zEfVyINVA7+c9Xxl0CPdxPMK1OIjxaLy/7BLfbkoEpI8onQtjuzfpuxCraDem9bu3BMF0pMH95HytI3Vi0kGjaV+WLIalwgc2w37oA2sbsmKzQOP7SDLO5s2QJNAD7kVwd+Q5rqaLu2MO0xVv+0IUJhn83hClC0L5wIDAQAB # 【RSA 案例】响应加密的公钥")]),t._v("\n")])])]),s("p",[t._v("① "),s("code",[t._v("algorithm")]),t._v(" 支持 AES、RSA 两种加密算法。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("疑问：如何支持 SM2、SM4 等国密算法？")]),t._v(" "),s("p",[t._v("ApiEncryptFilter 的构造方法里，有创建加解密 Encryptor、Decryptor 的逻辑，增加下对应的逻辑即可，使用 hutool 工具类的 SM2、SM4 即可。\n当然，要注意引入下 SM2、SM4 的 Maven 依赖噢。")])]),t._v(" "),s("p",[t._v("② "),s("code",[t._v("request-key")]),t._v(" 配置项：请求的解密密钥。")]),t._v(" "),s("ul",[s("li",[t._v("如果是【对称加密】时，它「后端」对应的是“密钥”。对应的，「前端」也对应的也是“密钥”。")]),t._v(" "),s("li",[t._v("如果是【非对称加密】时，它「后端」对应的是“私钥”。对应的，「前端」对应的是“公钥”。（重要！！！）")])]),t._v(" "),s("p",[t._v("对加密算法了解不多的同学，可以看看 "),s("a",{attrs:{href:"https://help.aliyun.com/zh/ssl-certificate/what-are-a-public-key-and-a-private-key",target:"_blank",rel:"noopener noreferrer"}},[t._v("《什么是公钥和私钥？》"),s("OutboundLink")],1),t._v(" 文档。")]),t._v(" "),s("p",[t._v("③ "),s("code",[t._v("response-key")]),t._v(" 配置项：响应的加密密钥。")]),t._v(" "),s("ul",[s("li",[t._v("如果是【对称加密】时，它「后端」对应的是“密钥”。对应的，「前端」也对应的也是“密钥”。")]),t._v(" "),s("li",[t._v("如果是【非对称加密】时，它「后端」对应的是“公钥”。对应的，「前端」对应的是“私钥”。（重要！！！）")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("疑问：为什么在使用 AES 算法时，密钥使用 RSA 动态生成呢？")]),t._v(" "),s("p",[t._v("从安全性来说，直接使用 RSA 和 RSA + AES 是基本一致的。")]),t._v(" "),s("p",[t._v("RSA + AES 相比 RSA 的优势，主要还是性能方便，因为对称加密 body，比非对称加密 body 性能更好。")]),t._v(" "),s("p",[t._v("不过考虑到 RSA + AES 对大家的理解成本比较高，并且这块的性能在业务系统（MySQL 操作）相关的性能损耗，基本可以相对忽略不计哈。")])]),t._v(" "),s("h3",{attrs:{id:"_2-2-前端配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-前端配置"}},[t._v("#")]),t._v(" 2.2 前端配置")]),t._v(" "),s("p",[t._v("前端的 "),s("code",[t._v("env")]),t._v(" 中，配置 "),s("code",[t._v("_API_ENCRYPT_")]),t._v(" 配置项，配置 API 加密的相关参数：")]),t._v(" "),s("div",{staticClass:"language-YAML extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[t._v("VITE_APP_API_ENCRYPT_ENABLE = true\nVITE_APP_API_ENCRYPT_HEADER = X"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Encrypt\nVITE_APP_API_ENCRYPT_ALGORITHM = AES\nVITE_APP_API_ENCRYPT_REQUEST_KEY = 52549111389893486934626385991395\nVITE_APP_API_ENCRYPT_RESPONSE_KEY = 96103715984234343991809655248883\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# VITE_APP_API_ENCRYPT_REQUEST_KEY = MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCls2rIpnGdYnLFgz1XU13GbNQ5DloyPpvW00FPGjqn5Z6JpK+kDtVlnkhwR87iRrE5Vf2WNqRX6vzbLSgveIQY8e8oqGCb829myjf1MuI+ZzN4ghf/7tEYhZJGPI9AbfxFqBUzm+kR3/HByAI22GLT96WM26QiMK8n3tIP/yiLswIDAQAB")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# VITE_APP_API_ENCRYPT_RESPONSE_KEY = MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAOH8IfIFxL/MR9XIg1UDv5z1fGXQI93E8wrU4iPFovL/sEt9uSgSkjyidC2O7N+m7EKtoN6b1u7cEwXSkwf3kfK0jdWLSQaNpX5YshqXCBzbDfugDaxuyYrNA4/tIMs7mzZAk0APuRXB35Dmupou7Yw7TFW/7QhQmGfzeEKULQvnAgMBAAECgYAw8LqlQGyQoPv5p3gRxEMOCfgL0JzD3XBJKztiRd35RDh40Nx1ejgjW4dPioFwGiVWd2W8cAGHLzALdcQT2KDJh+T/tsd4SPmI6uSBBK6Ff2DkO+kFFcuYvfclQQKqxma5CaZOSqhgenacmgTMFeg2eKlY3symV6JlFNu/IKU42QJBAOhxAK/Eq3e61aYQV2JSguhMR3b8NXJJRroRs/QHEanksJtl+M+2qhkC9nQVXBmBkndnkU/l2tYcHfSBlAyFySMCQQD445tgm/J2b6qMQmuUGQAYDN8FIkHjeKmha+l/fv0igWm8NDlBAem91lNDIPBUzHL1X1+pcts5bjmq99YdOnhtAkAg2J8dN3B3idpZDiQbC8fd5bGPmdI/pSUudAP27uzLEjr2qrE/QPPGdwm2m7IZFJtK7kK1hKio6u48t/bg0iL7AkEAuUUs94h+v702Fnym+jJ2CHEkXvz2US8UDs52nWrZYiM1o1y4tfSHm8H8bv8JCAa9GHyriEawfBraILOmllFdLQJAQSRZy4wmlaG48MhVXodB85X+VZ9krGXZ2TLhz7kz9iuToy53l9jTkESt6L5BfBDCVdIwcXLYgK+8KFdHN5W7HQ==")]),t._v("\n")])])]),s("h3",{attrs:{id:"_2-3-如何生成密钥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-如何生成密钥"}},[t._v("#")]),t._v(" 2.3 如何生成密钥")]),t._v(" "),s("p",[t._v("后端的 ApiEncryptTest 单测类，提供的 "),s("code",[t._v("#testGenerateAsymmetric(...)")]),t._v(" 方法，可以生成 RSA 公私钥、AES 密钥。")]),t._v(" "),s("p",[t._v("当然，你也可以使用 "),s("a",{attrs:{href:"http://web.chacuo.net/netrsakeypair",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://web.chacuo.net/netrsakeypair"),s("OutboundLink")],1),t._v(" 生成。")]),t._v(" "),s("p",[t._v("注意！！！生成后，"),s("code",[t._v("requestClientKey")]),t._v(" 和 "),s("code",[t._v("responseClientKey")]),t._v(" 是给前端的，"),s("code",[t._v("requestServerKey")]),t._v(" 和 "),s("code",[t._v("responseServerKey")]),t._v(" 是给后端的。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("疑问：使用 AES 算法时，`request` 和 `response` 的密钥，可以用相同的？")]),t._v(" "),s("p",[t._v("没问题，AES 算法是对称加密算法，前后端可以使用相同的密钥。")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("疑问：使用 RSA 算法时，`request` 和 `response` 的密钥，可以用相同的？")]),t._v(" "),s("p",[t._v("不可以，RSA 算法是非对称加密算法，前后端需要使用不同的密钥。")])]),t._v(" "),s("h2",{attrs:{id:"_3-如何使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-如何使用"}},[t._v("#")]),t._v(" 3. 如何使用？")]),t._v(" "),s("p",[t._v("① 第一步【可选】：在 Controller 类或方法上，添加 "),s("code",[t._v("@ApiEncrypt")]),t._v(" 注解。例如说 AuthController 的 "),s("code",[t._v("#login(...)")]),t._v(" 方法：")]),t._v(" "),s("div",{staticClass:"language-Java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PostMapping")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/login"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PermitAll")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ApiEncrypt")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里，这里，这里！！！")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Operation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("summary "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"使用账号密码登录"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CommonResult")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AuthLoginRespVO")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestBody")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Valid")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AuthLoginReqVO")]),t._v(" reqVO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("authService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reqVO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("② 第二步：前端请求时，在 request 的 "),s("code",[t._v("headers")]),t._v(" 里添加如下：")]),t._v(" "),s("div",{staticClass:"language-TS extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[t._v("headers"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    isEncrypt"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("例如说：vue3 + element-plus 管理后台的 "),s("code",[t._v("#login(...)")]),t._v(" 方法：")]),t._v(" "),s("div",{staticClass:"language-TS extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("login")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" UserLoginVO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/system/auth/login'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    headers"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      isEncrypt"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("再例如说：vben 管理后台的 "),s("code",[t._v("#login(...)")]),t._v(" 方法：")]),t._v(" "),s("div",{staticClass:"language-TS extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loginApi")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" AuthApi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LoginParams"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" requestClient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token generic-function"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),s("span",{pre:!0,attrs:{class:"token generic class-name"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AuthApi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LoginResult"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")])])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/system/auth/login'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    headers"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      isEncrypt"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"_666-常见问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_666-常见问题"}},[t._v("#")]),t._v(" 666. 常见问题？")]),t._v(" "),s("p",[t._v("① AES-256 失败，秘钥长度受限制问题？")]),t._v(" "),s("p",[t._v("参见 "),s("a",{attrs:{href:"https://blog.csdn.net/LiZhen314/article/details/143357715",target:"_blank",rel:"noopener noreferrer"}},[t._v("《Java 解密 AES-256 失败，秘钥长度受限制问题》"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);