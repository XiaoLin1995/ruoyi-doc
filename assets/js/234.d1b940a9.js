(window.webpackJsonp=window.webpackJsonp||[]).push([[234],{591:function(t,e,a){"use strict";a.r(e);var s=a(15),r=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("本项目基于 "),e("a",{attrs:{href:"https://unibest.tech/",target:"_blank",rel:"noopener noreferrer"}},[t._v("unibest"),e("OutboundLink")],1),t._v(" 作为模版，采用 uniapp + Vue 3 + TypeScript + Vite 技术栈，使用 "),e("a",{attrs:{href:"https://wot-ui.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Wot UI"),e("OutboundLink")],1),t._v(" 库。")]),t._v(" "),e("h2",{attrs:{id:"_0-实战案例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-实战案例"}},[t._v("#")]),t._v(" 0. 实战案例")]),t._v(" "),e("p",[t._v("本小节，提供大家开发移动端功能时，最常用的分页列表页面、树形页面的实战案例。")]),t._v(" "),e("h3",{attrs:{id:"_0-1-分页列表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-1-分页列表"}},[t._v("#")]),t._v(" 0.1 分页列表")]),t._v(" "),e("p",[t._v("可参考 [系统管理 -> 岗位管理] 功能：")]),t._v(" "),e("ul",[e("li",[t._v("API 接口："),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/blob/master/src/api/system/post/index.ts",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("/src/api/system/post/index.ts")]),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("列表页面："),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/blob/master/src/pages-system/post/index.vue",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("/src/pages-system/post/index.vue")]),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("详情页面："),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/blob/master/src/pages-system/post/detail/index.vue",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("/src/pages-system/post/detail/index.vue")]),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("表单页面："),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/blob/master/src/pages-system/post/form/index.vue",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("/src/pages-system/post/form/index.vue")]),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"_0-2-树形列表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-树形列表"}},[t._v("#")]),t._v(" 0.2 树形列表")]),t._v(" "),e("p",[t._v("可参考 [系统管理 -> 部门管理] 功能：")]),t._v(" "),e("ul",[e("li",[t._v("API 接口："),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/blob/master/src/api/system/dept/index.ts",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("/src/api/system/dept/index.ts")]),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("列表页面："),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/blob/master/src/pages-system/dept/index.vue",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("/src/pages-system/dept/index.vue")]),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("详情页面："),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/blob/master/src/pages-system/dept/detail/index.vue",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("/src/pages-system/dept/detail/index.vue")]),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("表单页面："),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/blob/master/src/pages-system/dept/form/index.vue",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("/src/pages-system/dept/form/index.vue")]),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("也可参考 [系统管理 -> 菜单管理] 功能，对应 "),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/blob/master/src/pages-system/menu/",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("/src/pages-system/menu/")]),e("OutboundLink")],1),t._v(" 目录。")]),t._v(" "),e("h2",{attrs:{id:"_1-pages-页面-view"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-pages-页面-view"}},[t._v("#")]),t._v(" 1. pages 页面（view）")]),t._v(" "),e("h3",{attrs:{id:"_1-1-页面组织"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-页面组织"}},[t._v("#")]),t._v(" 1.1 页面组织")]),t._v(" "),e("p",[t._v("页面按照功能模块进行分包，主要分为：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("目录")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("pages/")])]),t._v(" "),e("td",[t._v("主包页面，包含 Tabbar 页面（首页、工作流、通讯录、消息、我的）")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("pages-core/")])]),t._v(" "),e("td",[t._v("核心分包，包含登录、注册、错误页等")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("pages-system/")])]),t._v(" "),e("td",[t._v("系统管理分包")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("pages-infra/")])]),t._v(" "),e("td",[t._v("基础设施分包")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("pages-bpm/")])]),t._v(" "),e("td",[t._v("工作流分包")])])])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("为什么要分包？")]),t._v(" "),e("p",[t._v("小程序有主包大小限制（2 MB），分包可以有效减小主包体积，提升首屏加载速度。")]),t._v(" "),e("p",[t._v("另外，在微信小程序的开发模式下，包可能会超过 1.5 MB 大小，这是正常现象，编译打包后就会恢复正常。")])]),t._v(" "),e("h3",{attrs:{id:"_1-2-页面结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-页面结构"}},[t._v("#")]),t._v(" 1.2 页面结构")]),t._v(" "),e("p",[t._v("在 "),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/tree/master/src/pages-system",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("src/pages-system")]),e("OutboundLink")],1),t._v(" 目录下，每个模块对应一个目录，它的所有功能的 "),e("code",[t._v(".vue")]),t._v(" 都放在该目录里。")]),t._v(" "),e("p",[t._v("一般来说，一个路由对应一个 "),e("code",[t._v("index.vue")]),t._v(" 文件，详情页面放在 "),e("code",[t._v("detail")]),t._v(" 子目录下，表单页面放在 "),e("code",[t._v("form")]),t._v(" 子目录下，页面私有组件放在 "),e("code",[t._v("components")]),t._v(" 子目录下。")]),t._v(" "),e("p",[t._v("每个功能模块的页面结构如下：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("pages-system/post/           # 岗位管理\n├── components/              # 页面私有组件\n│   └── search-form.vue      # 搜索表单组件\n├── detail/                  # 详情页面\n│   └── index.vue\n├── form/                    # 表单页面（新增/编辑）\n│   ├── components/          # 表单私有组件\n│   └── index.vue\n└── index.vue                # 列表页面\n")])])]),e("p",[t._v("ps：其它 "),e("code",[t._v("src/pages-xxx")]),t._v(" 目录下的页面结构类似。")]),t._v(" "),e("h3",{attrs:{id:"_1-3-页面配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-页面配置"}},[t._v("#")]),t._v(" 1.3 页面配置")]),t._v(" "),e("p",[t._v("使用 "),e("code",[t._v("definePage")]),t._v(" 宏配置页面信息，支持约定式路由：")]),t._v(" "),e("div",{staticClass:"language-vue extra-class"},[e("pre",{pre:!0,attrs:{class:"language-vue"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("setup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}},[e("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("definePage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("style")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("navigationStyle")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'custom'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 自定义导航栏")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("navigationBarTitleText")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 页面标题")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("excludeLoginPath")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否需要登录，默认为 false（一般情况下，不用添加）")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("p",[t._v("关于 definePage 更多的介绍，可见 "),e("a",{attrs:{href:"https://unibest.tech/base/3-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("《unibest 官方文档 —— uni 插件》"),e("OutboundLink")],1),t._v(" 文档。")]),t._v(" "),e("h2",{attrs:{id:"_2-api-请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-api-请求"}},[t._v("#")]),t._v(" 2. api 请求")]),t._v(" "),e("p",[t._v("在 "),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/tree/master/src/api",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("src/api")]),e("OutboundLink")],1),t._v(" 目录下，每个模块对应一个目录，包含该模块的所有 API 文件。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/img/admin-uniapp/%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/api.png",alt:"api 目录结构"}})]),t._v(" "),e("p",[t._v("每个 API 文件通常包含：")]),t._v(" "),e("ul",[e("li",[t._v("API 方法：调用 "),e("code",[t._v("http")]),t._v(" 发起对后端 RESTful API 的请求")]),t._v(" "),e("li",[e("code",[t._v("interface")]),t._v(" 类型：定义 API 的请求参数和返回结果的类型，对应后端的 VO 类型")])]),t._v(" "),e("h3",{attrs:{id:"_2-1-请求封装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-请求封装"}},[t._v("#")]),t._v(" 2.1 请求封装")]),t._v(" "),e("p",[t._v("项目使用 "),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/blob/master/src/http/http.ts",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("src/http/http.ts")]),e("OutboundLink")],1),t._v(" 基于 "),e("code",[t._v("uni.request")]),t._v(" 进行请求封装，提供统一的请求方法。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("官方文档")]),t._v(" "),e("p",[t._v("详细的请求配置和使用方式，请参考："),e("a",{attrs:{href:"https://doc.vben.pro/guide/essentials/server.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("《unibest 官方文档 —— 请求篇》"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[t._v("注意：项目使用的是 "),e("code",[t._v("简单版本http")]),t._v(" 噢，类似 "),e("code",[t._v("alova 的 http")]),t._v(" 和 "),e("code",[t._v("vue-query")]),t._v(" 已经删除（控制包大小）。")])]),t._v(" "),e("p",[t._v("请求封装中包含了以下核心功能：")]),t._v(" "),e("ul",[e("li",[t._v("租户支持：自动在请求头中添加 "),e("code",[t._v("tenant-id")]),t._v(" 租户编号")]),t._v(" "),e("li",[t._v("访问令牌：自动在请求头中添加 "),e("code",[t._v("Authorization")]),t._v(" Bearer Token")]),t._v(" "),e("li",[t._v("刷新令牌：当访问令牌过期时，自动使用 "),e("code",[t._v("refreshToken")]),t._v(" 刷新令牌（双 Token 模式）")]),t._v(" "),e("li",[t._v("API 加密：支持请求数据加密和响应数据解密")]),t._v(" "),e("li",[t._v("错误处理：统一的错误消息提示和 401 未登录处理")])]),t._v(" "),e("h2",{attrs:{id:"_3-component-组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-component-组件"}},[t._v("#")]),t._v(" 3. component 组件")]),t._v(" "),e("h3",{attrs:{id:"_3-1-全局组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-全局组件"}},[t._v("#")]),t._v(" 3.1 全局组件")]),t._v(" "),e("p",[t._v("在 "),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/tree/master/src/components",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("src/components")]),e("OutboundLink")],1),t._v(" 目录下，实现全局公共组件：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("components/\n├── dict-tag/                 # 字典标签组件\n│   └── index.vue\n└── system-select/            # 系统选择组件\n    ├── dept-select.vue       # 部门选择\n    ├── user-select.vue       # 用户选择\n")])])]),e("hr"),t._v(" "),e("p",[t._v("更多说明，可见 "),e("RouterLink",{attrs:{to:"/admin-uniapp/component/"}},[t._v("系统组件")]),t._v(" 文档。")],1),t._v(" "),e("h3",{attrs:{id:"_3-2-页面组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-页面组件"}},[t._v("#")]),t._v(" 3.2 页面组件")]),t._v(" "),e("p",[t._v("每个页面的私有组件，放在页面目录下的 "),e("code",[t._v("components")]),t._v(" 目录：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("pages/index/\n├── components/\n│   ├── banner.vue            # 轮播图组件\n│   ├── menu-section.vue      # 菜单区域组件\n│   └── user-header.vue       # 用户头部组件\n└── index.vue\n")])])]),e("h2",{attrs:{id:"_4-style-样式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-style-样式"}},[t._v("#")]),t._v(" 4. style 样式")]),t._v(" "),e("p",[t._v("项目使用 "),e("a",{attrs:{href:"https://unocss.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("UnoCSS"),e("OutboundLink")],1),t._v(" 作为原子化 CSS 解决方案，可参考如下文档：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://unibest.tech/base/4-style",target:"_blank",rel:"noopener noreferrer"}},[t._v("《unibest 官方文档 —— UnoCSS》"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"_5-store-状态管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-store-状态管理"}},[t._v("#")]),t._v(" 5. store 状态管理")]),t._v(" "),e("p",[t._v("项目使用 "),e("a",{attrs:{href:"https://pinia.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pinia"),e("OutboundLink")],1),t._v(" 进行状态管理，配合 "),e("code",[t._v("pinia-plugin-persistedstate")]),t._v(" 插件实现数据持久化。")]),t._v(" "),e("p",[t._v("Store 文件位于 "),e("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-uniapp/tree/master/src/store",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("src/store")]),e("OutboundLink")],1),t._v(" 目录下：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("store/\n├── index.ts                  # Store 入口，统一导出\n├── user.ts                   # 用户信息（用户、角色、权限）\n├── token.ts                  # Token 管理（登录、登出、刷新令牌）\n├── dict.ts                   # 字典数据缓存\n└── theme.ts                  # 主题配置\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("官方文档")]),t._v(" "),e("p",[t._v("详细的 Store 使用方式，请参考："),e("a",{attrs:{href:"https://unibest.tech/base/9-state",target:"_blank",rel:"noopener noreferrer"}},[t._v("《unibest 官方文档 —— 状态管理篇》"),e("OutboundLink")],1),t._v(" 文档。")])]),t._v(" "),e("h2",{attrs:{id:"_6-常见问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-常见问题"}},[t._v("#")]),t._v(" 6. 常见问题")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://unibest.tech/base/14-faq",target:"_blank",rel:"noopener noreferrer"}},[t._v("《unibest 官方文档 —— 常见问题》"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://unibest.tech/base/15-faq",target:"_blank",rel:"noopener noreferrer"}},[t._v("《unibest 官方文档 —— 常见问题 2》"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://wot-ui.cn/guide/common-problems.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("《Wot UI 官方文档 —— 常见问题》"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=r.exports}}]);