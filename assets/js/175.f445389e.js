(window.webpackJsonp=window.webpackJsonp||[]).push([[175],{531:function(e,t,a){"use strict";a.r(t);var r=a(15),n=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("项目基于 Spring AI + 自己实现的 "),t("code",[e._v("models/gemini")]),e._v("，实现 "),t("a",{attrs:{href:"https://ai.google.dev/gemini-api/docs/models",target:"_blank",rel:"noopener noreferrer"}},[e._v("Google Gemini"),t("OutboundLink")],1),e._v(" 的接入，基于它提供的 OpenAI 兼容性方案：")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("疑问：")]),e._v(" "),t("p",[e._v("为什么不使用 "),t("a",{attrs:{href:"https://github.com/spring-projects/spring-ai/tree/main/models/spring-ai-vertex-ai-gemini",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("spring-ai-vertex-ai-gemini")]),t("OutboundLink")],1),e._v(" 呢？")]),e._v(" "),t("p",[e._v("因为它的 "),t("a",{attrs:{href:"https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev",target:"_blank",rel:"noopener noreferrer"}},[e._v("API 认证方式"),t("OutboundLink")],1),e._v(" 很奇怪（和主流大模型 API 差异很大），没跑通，所以暂时放弃。")]),e._v(" "),t("p",[e._v("另外，社区也有 "),t("a",{attrs:{href:"https://github.com/spring-projects/spring-ai/issues/1252",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/spring-projects/spring-ai/issues/1252"),t("OutboundLink")],1),e._v(" 讨论，建议采用和项目中类似的方式接入。")])]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("功能")]),e._v(" "),t("th",[e._v("模型")]),e._v(" "),t("th",[e._v("Spring AI 客户端")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("AI 对话")]),e._v(" "),t("td",[e._v("gemini-2.5-pro、gemini-2.5-flash 等")]),e._v(" "),t("td",[e._v("GeminiChatModel")])]),e._v(" "),t("tr",[t("td",[e._v("AI 绘画")]),e._v(" "),t("td",[t("a",{attrs:{href:"https://ai.google.dev/gemini-api/docs/imagen?hl=zh-cn",target:"_blank",rel:"noopener noreferrer"}},[e._v("imagen-4.0-generate-001"),t("OutboundLink")],1),e._v(" 等")]),e._v(" "),t("td",[e._v("暂未接入")])])])]),e._v(" "),t("h2",{attrs:{id:"_1-申请密钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-申请密钥"}},[e._v("#")]),e._v(" 1. 申请密钥")]),e._v(" "),t("p",[e._v("由于腾讯混元是非开源的模型，所以无法私有化部署，需要去官网申请 API Key，然后通过 Spring AI 提供的客户端接入。")]),e._v(" "),t("h3",{attrs:{id:"_1-1-申请-google-gemini-密钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-申请-google-gemini-密钥"}},[e._v("#")]),e._v(" 1.1 申请 Google Gemini 密钥")]),e._v(" "),t("p",[e._v("① 在 "),t("a",{attrs:{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer"}},[e._v("Google AI Studio"),t("OutboundLink")],1),e._v(" 上，点击「创建 API 密钥」，创建一个 API Key 密钥。")]),e._v(" "),t("hr"),e._v(" "),t("p",[e._v("申请完成后，可以在我们系统的 [AI 大模型 -> 控制台 -> API 密钥] 菜单，进行密钥的配置。只需要填写“密钥”，不需要填写“自定义 API URL”（因为 Spring AI 默认官方地址）。如下图所示：")]),e._v(" "),t("p",[t("img",{attrs:{src:"/img/AI%E6%89%8B%E5%86%8C/%E6%A8%A1%E5%9E%8B%E6%8E%A5%E5%85%A5/Gemini-%E5%AE%98%E6%96%B9.png",alt:"官方的密钥配置"}})]),e._v(" "),t("h2",{attrs:{id:"_2-模型配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-模型配置"}},[e._v("#")]),e._v(" 2. 模型配置")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("友情提示：")]),e._v(" "),t("p",[e._v("目前 "),t("code",[e._v("ai_model")]),e._v(" 表中，已经预置了一些模型，可以直接使用！！！")])]),e._v(" "),t("h3",{attrs:{id:"_2-1-ai-对话"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-ai-对话"}},[e._v("#")]),e._v(" 2.1 AI 对话")]),e._v(" "),t("p",[e._v("使用 "),t("RouterLink",{attrs:{to:"/ai/chat/"}},[e._v("《AI 对话》")]),e._v(" 时，需要在 [AI 大模型 -> 控制台 -> 模型配置] 菜单，配置对应的聊天模型。")],1),e._v(" "),t("p",[e._v("模型有："),t("code",[e._v("gemini-2.5-pro")]),e._v("、"),t("code",[e._v("gemini-2.5-flash")]),e._v(" 等等，可以点击 "),t("a",{attrs:{href:"https://ai.google.dev/gemini-api/docs/models",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gemini"),t("OutboundLink")],1),e._v(" 进行查看。")]),e._v(" "),t("p",[e._v("注意，每个模型标识的 "),t("code",[e._v("max_tokens")]),e._v("（回复数 Token 数）一般是 4096 或 8192，具体也是看上述链接。")]),e._v(" "),t("h3",{attrs:{id:"_2-2-ai-绘图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-ai-绘图"}},[e._v("#")]),e._v(" 2.2 AI 绘图")]),e._v(" "),t("p",[e._v("TODO 等待 Imagen ImageModel 客户端！")]),e._v(" "),t("h2",{attrs:{id:"_3-如何使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-如何使用"}},[e._v("#")]),e._v(" 3. 如何使用？")]),e._v(" "),t("p",[e._v("① 如果你的项目里需要直接通过 "),t("code",[e._v("@Resource")]),e._v(" 注入 GeminiChatModel 等对象，需要把 "),t("code",[e._v("application.yaml")]),e._v(" 配置文件里的 "),t("code",[e._v("yudao.ai.hunyuan")]),e._v(" 配置项，替换成你的！")]),e._v(" "),t("div",{staticClass:"language-YAML extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("yudao")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ai")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("gemini")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 谷歌 Gemini")]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("enable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("api-key")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" AIzaSyAVoBxgoFvvte820vEQMma2LKBnC98bqMQ\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("model")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" gemini"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("2.5"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("flash\n")])])]),t("p",[e._v("② 如果你希望使用 [AI 大模型 -> 控制台 -> API 密钥] 菜单的密钥配置，则可以通过 AiModelService 的 "),t("code",[e._v("#getChatModel(...)")]),e._v(" 方法，获取对应的模型对象。")]),e._v(" "),t("hr"),e._v(" "),t("p",[e._v("① 和 ② 这两者的后续使用，就是标准的 Spring AI 客户端的使用，调用对应的方法即可。")]),e._v(" "),t("p",[e._v("另外，GeminiChatModelTests 里有对应的测试用例，可以参考。")]),e._v(" "),t("h2",{attrs:{id:"_666-gemma-如何接入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_666-gemma-如何接入"}},[e._v("#")]),e._v(" 666. Gemma 如何接入？")]),e._v(" "),t("p",[e._v("Gemma 是 Gemini 的"),t("a",{attrs:{href:"https://github.com/google-deepmind/gemma",target:"_blank",rel:"noopener noreferrer"}},[e._v("开源版本"),t("OutboundLink")],1),e._v("，可以进行私有化部署。")]),e._v(" "),t("p",[e._v("整个的接入，类似 "),t("a",{attrs:{href:"/ai/llama"}},[e._v("《【模型接入】LLAMA》")]),e._v("。下面，我简单写下，有疑问可以星球提问哈！主要是，貌似也没听说哪个团队或者朋友在使用~")]),e._v(" "),t("p",[e._v("① 访问 "),t("a",{attrs:{href:"https://ollama.ai/download",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ollama 官网"),t("OutboundLink")],1),e._v("，下载对应系统 Ollama 客户端，然后安装。")]),e._v(" "),t("p",[e._v("② 安装完成后，在命令中执行 "),t("code",[e._v("ollama run gemma")]),e._v(" 命令，一键部署 "),t("code",[e._v("gemma")]),e._v(" 模型。")]),e._v(" "),t("p",[e._v("③ 之后，需要使用 Spring AI 的 "),t("a",{attrs:{href:"https://github.com/spring-projects/spring-ai/tree/main/models/spring-ai-ollama",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("spring-ai-ollama")]),t("OutboundLink")],1),e._v(" 进行接入。")]),e._v(" "),t("p",[e._v("不知道它怎么使用的话，可以看看 "),t("a",{attrs:{href:"https://medium.com/@freeyecheng/spring-ai-java-integration-with-large-language-models-simplified-04873df6a538",target:"_blank",rel:"noopener noreferrer"}},[e._v("《Spring AI : Java Integration with Large Language Models Simplified》"),t("OutboundLink")],1),e._v(" 博客。")])])}),[],!1,null,null,null);t.default=n.exports}}]);