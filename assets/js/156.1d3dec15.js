(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{513:function(e,t,n){"use strict";n.r(t);var r=n(15),_=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_1-推理模式-thinking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-推理模式-thinking"}},[e._v("#")]),e._v(" 1. 推理模式（thinking）")]),e._v(" "),t("p",[e._v("对于支持「推理模式」的模型来说，在输出最终回答之前，模型会先输出一段思维链内容，以提升最终答案的准确性。")]),e._v(" "),t("p",[e._v("说人话，就是在每一轮对话过程中，模型会输出思维链内容（"),t("code",[e._v("reasoning_content")]),e._v("）和最终回答（"),t("code",[e._v("content")]),e._v("）。对应到 "),t("code",[e._v("ai_chat_message")]),e._v(" 表里，就是 "),t("code",[e._v("reasoning_content")]),e._v(" 字段和 "),t("code",[e._v("content")]),e._v(" 字段。")]),e._v(" "),t("h1",{attrs:{id:"_2-如何使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-如何使用"}},[e._v("#")]),e._v(" 2. 如何使用？")]),e._v(" "),t("p",[e._v("AI 对话时，使用支持「推理模式」的模型（如 "),t("code",[e._v("deepseek-reasoner")]),e._v("、"),t("code",[e._v("qwen3")]),e._v(" 等）时，模型返回结果就会包含思维链内容。如下图所示：")]),e._v(" "),t("p",[t("img",{attrs:{src:"/img/AI%E6%89%8B%E5%86%8C/%E6%8E%A8%E7%90%86%E6%A8%A1%E5%9E%8B/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8.png",alt:"如何使用"}})]),e._v(" "),t("h1",{attrs:{id:"_3-哪些模型平台支持"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-哪些模型平台支持"}},[e._v("#")]),e._v(" 3. 哪些模型平台支持？")]),e._v(" "),t("p",[e._v("基本上，目前所有模型平台，都有支持「推理模式」的模型。目前碰到的问题，更多的还是 Spring AI 是否对该模型（平台）提供了支持。")]),e._v(" "),t("h3",{attrs:{id:"_3-1-spring-ai-已支持"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-spring-ai-已支持"}},[e._v("#")]),e._v(" 3.1 Spring AI 已支持")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("友情提示：如下是我测试过的一些模型！")]),e._v(" "),t("p",[e._v("一般情况下，你可以使用对应模型的 ChatModelTests 类的 "),t("code",[e._v("#testStream_thinking()")]),e._v(" 方法，搞了大几个小时！")])]),e._v(" "),t("p",[e._v("① DeepSeek："),t("a",{attrs:{href:"https://api-docs.deepseek.com/zh-cn/guides/reasoning_model",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("deepseek-reasoner")]),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("② 通义千问："),t("code",[e._v("qwen3")]),e._v("、"),t("code",[e._v("qwen-max")]),e._v(" 等，可见 "),t("a",{attrs:{href:"https://bailian.console.aliyun.com/?spm=a2c4g.11186623.0.0.910360e9E3uq3z&tab=model#/model-market?capabilities=%5B%22QwQ%22%5D&z_type_=%7B%22capabilities%22%3A%22array%22%7D",target:"_blank",rel:"noopener noreferrer"}},[e._v("《阿里云 —— 模型广场》"),t("OutboundLink")],1),e._v(" 的「推理模型」类型。")]),e._v(" "),t("p",[e._v("③ 字节豆包："),t("code",[e._v("Doubao-Seed-1.6-thinking")]),e._v(" 等，可见 "),t("a",{attrs:{href:"https://console.volcengine.com/ark/region:ark+cn-beijing/model?vendor=Bytedance&view=DEFAULT_VIEW",target:"_blank",rel:"noopener noreferrer"}},[e._v("《火山引擎 —— 模型广场》"),t("OutboundLink")],1),e._v(" 的「深度思考」类别。")]),e._v(" "),t("p",[e._v("④ 腾讯混元："),t("code",[e._v("hunyuan-a13b")]),e._v(" 等，可见 "),t("a",{attrs:{href:"https://cloud.tencent.com/document/product/1729/104753",target:"_blank",rel:"noopener noreferrer"}},[e._v("《混元大模型 —— 产品概述》"),t("OutboundLink")],1),e._v(" 文档。")]),e._v(" "),t("p",[e._v("⑤ 硅基流动："),t("code",[e._v("deepseek-ai/DeepSeek-R1")]),e._v(" 等，可见 "),t("a",{attrs:{href:"https://cloud.siliconflow.cn/me/models?tags=%E6%8E%A8%E7%90%86%E6%A8%A1%E5%9E%8B",target:"_blank",rel:"noopener noreferrer"}},[e._v("《硅基流动 —— 模型广场》"),t("OutboundLink")],1),e._v(" 的「推理模型」标签。")]),e._v(" "),t("p",[e._v("⑥ 讯飞星火："),t("code",[e._v("x1")]),e._v(" 等，可见 "),t("a",{attrs:{href:"https://www.xfyun.cn/doc/spark/X1http.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("《星火大模型 X1》"),t("OutboundLink")],1),e._v(" 文档。")]),e._v(" "),t("h3",{attrs:{id:"_3-2-spring-ai-未支持"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-spring-ai-未支持"}},[e._v("#")]),e._v(" 3.2 Spring AI 未支持")]),e._v(" "),t("p",[e._v("① OpenAI：需要基于它的 Responses API，可见 "),t("a",{attrs:{href:"https://github.com/spring-projects/spring-ai/issues/2962",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/spring-projects/spring-ai/issues/2962"),t("OutboundLink")],1),e._v(" 讨论。")]),e._v(" "),t("p",[e._v("② Anthropic：应该已经支持，待 Spring AI 发新版本，可见 "),t("a",{attrs:{href:"https://github.com/spring-projects/spring-ai/pull/2800",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/spring-projects/spring-ai/pull/2800"),t("OutboundLink")],1),e._v(" 讨论。")]),e._v(" "),t("p",[e._v("③ Gemini：官方没提供合适的 SDK，目前项目是通过 OpenAI 的客户端接入，等待 Spring AI 官方吧~")]),e._v(" "),t("p",[e._v("④ Ollama：返回了 "),t("code",[e._v("thinking")]),e._v(" 标签，看看后续的演进吧！可见 "),t("a",{attrs:{href:"https://github.com/spring-projects/spring-ai/pull/3386",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/spring-projects/spring-ai/pull/3386"),t("OutboundLink")],1),e._v(" 讨论。")]),e._v(" "),t("p",[e._v("⑤ MiniMax、Moonshot、ZhiPu： 目前 Spring AI 都未支持，等待官方吧~")]),e._v(" "),t("h3",{attrs:{id:"_3-3-其它"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-其它"}},[e._v("#")]),e._v(" 3.3 其它")]),e._v(" "),t("p",[e._v("① BaiChuan：暂未跟进")]),e._v(" "),t("p",[e._v("② Coze、Dify、YiYan：是 AI 工作流，暂时也不会返回执行过程中的思维链。")]),e._v(" "),t("p",[e._v("③ 文心一言：Spring AI 也未支持，再等等吧 = =！")]),e._v(" "),t("h2",{attrs:{id:"_4-thinking-模式的开关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-thinking-模式的开关"}},[e._v("#")]),e._v(" 4. thinking 模式的开关")]),e._v(" "),t("p",[e._v("【模型标识】类似 DeepSeek-V3.1，是通过 "),t("code",[e._v("deepseek-chat")]),e._v(" 对应 DeepSeek-V3.1 的非思考模式，"),t("code",[e._v("deepseek-reasoner")]),e._v(" 对应 DeepSeek-V3.1 的思考模式。")]),e._v(" "),t("p",[e._v("但是我们会发现，很多模型会开始使用相同的【模型标识】，通过类似 "),t("code",[e._v("thinking")]),e._v(" 参数，来控制是否开启「推理模式」。例如说：")]),e._v(" "),t("ul",[t("li",[e._v("OpenAI："),t("code",[e._v("reasoning_effort")]),e._v(" 有 "),t("code",[e._v("low")]),e._v("、"),t("code",[e._v("medium")]),e._v("、"),t("code",[e._v("high")]),e._v(" 三个等级")]),e._v(" "),t("li",[e._v("Claude："),t("code",[e._v("thinking")]),e._v(" + "),t("code",[e._v("budget_tokens")]),e._v(" 思考深度")]),e._v(" "),t("li",[e._v("通义千问："),t("code",[e._v("enable_thinking")]),e._v(" 开关")]),e._v(" "),t("li",[e._v("字节豆包："),t("code",[e._v("thinking")]),e._v(" 开关，"),t("a",{attrs:{href:"https://www.volcengine.com/docs/82379/1494384",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.volcengine.com/docs/82379/1494384"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("后续，我们应该要在「模型配置」功能里，增加对应的 "),t("code",[e._v("thinking")]),e._v(" 配置。这样，后续用户在对话界面，使用推理模型时，可手动开启或关闭「推理模式」。类似现在豆包、元宝等平台的做法。")]),e._v(" "),t("p",[e._v("TODO")])])}),[],!1,null,null,null);t.default=_.exports}}]);