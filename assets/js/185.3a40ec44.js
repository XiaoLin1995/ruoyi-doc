(window.webpackJsonp=window.webpackJsonp||[]).push([[185],{543:function(e,a,t){"use strict";t.r(a);var r=t(15),s=Object(r.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("本章节，讲解模版消息的相关内容，支持对模版进行同步、删除、发送等操作，对应 "),a("a",{attrs:{href:"https://developers.weixin.qq.com/doc/service/guide/product/template_message/Template_Message_Interface.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("《微信公众号官方文档 —— 模板消息》"),a("OutboundLink")],1),e._v(" 文档。")]),e._v(" "),a("p",[a("img",{attrs:{src:"/img/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%89%8B%E5%86%8C/%E6%A8%A1%E7%89%88%E6%B6%88%E6%81%AF/%E7%95%8C%E9%9D%A2.png",alt:"模版管理"}})]),e._v(" "),a("h2",{attrs:{id:"_1-表结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-表结构"}},[e._v("#")]),e._v(" 1. 表结构")]),e._v(" "),a("p",[e._v("公众号粉丝对应 "),a("code",[e._v("mp_message_template")]),e._v(" 表，结构如下图所示：")]),e._v(" "),a("p",[a("img",{attrs:{src:"/img/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%89%8B%E5%86%8C/%E6%A8%A1%E7%89%88%E6%B6%88%E6%81%AF/%E8%A1%A8%E7%BB%93%E6%9E%84.png",alt:"表结构"}})]),e._v(" "),a("h2",{attrs:{id:"_2-模版管理界面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-模版管理界面"}},[e._v("#")]),e._v(" 2. 模版管理界面")]),e._v(" "),a("ul",[a("li",[e._v("前端："),a("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/src/views/mp/messageTemplate/index.vue",target:"_blank",rel:"noopener noreferrer"}},[e._v("/@views/mp/messageTemplate"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("后端："),a("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-module-mp/src/main/java/cn/iocoder/yudao/module/mp/controller/admin/message/MpMessageTemplateController.java",target:"_blank",rel:"noopener noreferrer"}},[e._v("MpMessageTemplateController"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"_3-同步模版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-同步模版"}},[e._v("#")]),e._v(" 3. 同步模版")]),e._v(" "),a("p",[e._v("点击模版消息界面的【同步】按钮，可以从公众号同步所有的模版信息，存储到 "),a("code",[e._v("mp_message_template")]),e._v(" 表中。")]),e._v(" "),a("p",[e._v("对应后端的 "),a("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-module-mp/src/main/java/cn/iocoder/yudao/module/mp/service/message/MpMessageTemplateServiceImpl.java#L94-L133",target:"_blank",rel:"noopener noreferrer"}},[e._v("MpMessageTemplateServiceImpl"),a("OutboundLink")],1),e._v(" 的 "),a("code",[e._v("syncMessageTemplate")]),e._v(" 方法。")]),e._v(" "),a("h2",{attrs:{id:"_4-发送模版消息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-发送模版消息"}},[e._v("#")]),e._v(" 4. 发送模版消息")]),e._v(" "),a("p",[e._v("① 在微信公众号平台中，点击【新增测试模版】按钮，新增一个测试模版消息，如下图所示：")]),e._v(" "),a("p",[a("img",{attrs:{src:"/img/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%89%8B%E5%86%8C/%E6%A8%A1%E7%89%88%E6%B6%88%E6%81%AF/%E6%96%B0%E5%A2%9E%E6%B5%8B%E8%AF%95%E6%A8%A1%E7%89%88.png",alt:"新增测试模版"}})]),e._v(" "),a("p",[e._v("② 点击模版消息界面的【发送】按钮，弹出发送模版消息对话框，如下图所示：")]),e._v(" "),a("p",[a("img",{attrs:{src:"/img/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%89%8B%E5%86%8C/%E6%A8%A1%E7%89%88%E6%B6%88%E6%81%AF/%E5%8F%91%E9%80%81%E6%A8%A1%E7%89%88%E6%B6%88%E6%81%AF.png",alt:"发送模版消息"}})]),e._v(" "),a("p",[e._v("对应后端的 "),a("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-module-mp/src/main/java/cn/iocoder/yudao/module/mp/service/message/MpMessageTemplateServiceImpl.java#L135-L151",target:"_blank",rel:"noopener noreferrer"}},[e._v("MpMessageTemplateServiceImpl"),a("OutboundLink")],1),e._v(" 的 "),a("code",[e._v("sendMessageTempalte")]),e._v(" 方法。")])])}),[],!1,null,null,null);a.default=s.exports}}]);